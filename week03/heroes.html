<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Justice League</title>
    <link rel="stylesheet" href="../style.css" />
  </head>
  <body>
    <header>
      <h1 id="title">Justice League</h1>
    </header>
    <ul id="roster">
      <li class="hero">
        Superman
        <button onclick="moveUp(event)">▲</button>
        <button onclick="moveDown(event)">▼</button>
        <button onclick="deleteMe(event)">&times;</button>
      </li>
      <li class="vigilante hero" id="bats">
        Batman
        <button onclick="moveUp(event)">▲</button>
        <button onclick="moveDown(event)">▼</button>
        <button onclick="deleteMe(event)">&times;</button>
      </li>
      <li class="hero">
        Wonder Woman
        <button onclick="moveUp(event)">▲</button>
        <button onclick="moveDown(event)">▼</button>
        <button onclick="deleteMe(event)">&times;</button>
      </li>
    </ul>
    <form action="addHero">
      <label for="heroName" id="heroNameLabel"
        >Input to test <code>htmlFor</code>
        <input type="text" class="heroName" id="heroInput" />
      </label>
    </form>

    <button onclick="replaceFirstWithThird()">Replace First With Third</button>

    <button onclick="insertHtml()">Insert <code>innerHTML</code></button>

    <button onclick="addScriptTag()">Add Script</button>

    <div id="target"></div>

    <script>
      const heroNameLabel = document.getElementById("heroNameLabel");
      console.log("heroNameLabel.htmlFor:", heroNameLabel.htmlFor);

      const bats = document.getElementById("bats");
      console.log("bats.classList:", bats.classList);
      bats.classList.replace("vigilante", "loner");
      console.log("bats.classList after replace():", bats.classList);
      bats.classList.toggle("hero");
      console.log("bats.classList after toggle('hero'):", bats.classList);
      bats.classList.toggle("hero");
      console.log("bats.classList after toggle('hero'):", bats.classList);

      function moveDown(event) {
        const subjectLi = event.target.parentElement;
        const ul = subjectLi.parentElement;
        const allLis = Array.from(ul.children);
        if (
          allLis[allLis.length - 1] !== subjectLi &&
          allLis[allLis.length - 2] !== subjectLi
        ) {
          const index = allLis.indexOf(subjectLi);
          ul.insertBefore(subjectLi, allLis[index + 2]);
        } else {
          ul.appendChild(subjectLi);
        }
      }

      function moveUp(event) {
        const subjectLi = event.target.parentElement;
        const ul = subjectLi.parentElement;
        const allLis = Array.from(ul.children);
        const index = allLis.indexOf(subjectLi);
        if (index !== 0) {
          ul.insertBefore(subjectLi, allLis[index - 1]);
        }
      }

      function deleteMe(event) {
        event.target.parentElement.parentElement.removeChild(event.target.parentElement);
      }

      function replaceFirstWithThird() {
        const roster = document.getElementById("roster");
        roster.replaceChild(roster.children[2], roster.children[0]);
      }

      function insertHtml() {
        document.getElementById("target").innerHTML =
            document.getElementById("heroInput").value;
      }

      function addScriptTag() {
        const script = document.createElement("script");
        script.innerText = `function myMethod2() {console.log('test inserted script tag')}`;
        document.body.appendChild(script);
      }
    </script>
  </body>
</html>
